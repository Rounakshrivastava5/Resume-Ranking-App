<div style="max-width: 800px; margin: 2rem auto;">

  <mat-card>
    <mat-card-title>Resume Ranking App</mat-card-title>
    <mat-card-content>
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Job Description</mat-label>
        <textarea matInput [(ngModel)]="jobDescription" rows="5"></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Resumes (separated by "---")</mat-label>
        <textarea matInput [(ngModel)]="resumesRaw" rows="10"></textarea>
      </mat-form-field>

      <button mat-raised-button color="primary" (click)="submit()" [disabled]="loading">
        {{ loading ? 'Ranking...' : 'Submit' }}
      </button>
    </mat-card-content>

    <mat-progress-spinner
      *ngIf="loading"
      mode="indeterminate"
      diameter="40"
      style="margin-top: 20px;">
    </mat-progress-spinner>
  </mat-card>

  <div *ngIf="results.length > 0" style="margin-top: 2rem;">
    <mat-card>
      <mat-card-title>Ranked Resumes</mat-card-title>
      <mat-card-content>
        <ol>
          {{results}}
          <li *ngFor="let r of results" style="margin-bottom: 1rem;">
            {{r}}
            <strong>Score:</strong> {{ r.score }}<br />
            <pre style="background: #f5f5f5; padding: 0.5rem;">{{ r.resume_text }}</pre>
          </li>
        </ol>
      </mat-card-content>
    </mat-card>
  </div>
</div>
